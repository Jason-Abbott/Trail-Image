"use strict";$(function(){var a="Post Menu",n="selected",s=$("#post-menu-button"),i=$("#post-menu"),e=$("#menu-roots"),l=$("#menu-categories"),p=$("#menu-posts"),t=$("#post-description"),r=util.setting.menuCategory;function o(t,o){var a=s.find(".material-icons.expand_less"),e=s.find(".material-icons.expand_more");t&&t.stopPropagation(),void 0===o&&(o=s.hasClass(n)),o?(s.removeClass(n),i.hide(),a.hide(),e.show()):(s.addClass(n),i.show(),a.show(),e.hide())}function u(t,o,a,e){t.find("li").removeClass(n),a(e),o.addClass(n),util.setting.menuCategory=e}function c(t){var o=postMenuData.category[t[0]];l.empty(),null==t[1]&&(t[1]=o[0].title);for(var a=0;a<o.length;a++){var e=$("<li>").text(o[a].title);l.append(e),o[a].title==t[1]&&(e.addClass(n),d(t))}}function d(t){var o=postMenuData.category[t[0]];p.empty();for(var a=0;a<o.length;a++)if(o[a].title==t[1])for(var e=o[a].posts,n=0;n<e.length;n++){var s=postMenuData.post[e[n]],i=s.title;if(s.part&&n<e.length-1&&i==postMenuData.post[e[n+1]].title){for(var l=$("<ol>");n<e.length&&postMenuData.post[e[n]].title==i;)s=postMenuData.post[e[n]],l.prepend($("<li>").addClass("post").attr("value",s.part).html(s.subTitle).data("description",s.description).data("slug",s.slug)),n++;n--,s=postMenuData.post[e[n]],p.append($("<li>").addClass("series").html('<span class="mode-icon '+s.icon+'"></span>'+s.title).append(l))}else s.part&&(i+=": "+s.subTitle),p.append($("<li>").addClass("post").html('<span class="mode-icon '+s.icon+'"></span>'+i).data("description",s.description).data("slug",s.slug))}}null==r&&(r=["When",null]),s.one("click",function(){for(var t in postMenuData.category){var o=$("<li>").text(t);e.append(o),t==r[0]&&(o.addClass(n),c(r))}util.log.event(a,"Open")}).click(o),e.on("click","li",function(t){t.stopPropagation();var o=$(this);r=[o.text(),null],u(e,o,c,r)}),l.on("click","li",function(t){t.stopPropagation();var o=$(this);r[1]=o.text(),u(l,o,d,r)}),p.on("click","li.post",function(){window.location.href="/"+$(this).data("slug"),o(),util.log.event(a,"Click Post")}).on("mouseover","li.post",function(){t.html($(this).data("description"))}).on("mouseout",function(){t.empty()}),$("html").click(function(t){o(t,!0)})});
//# sourceMappingURL=/js/maps/post-menu.js.map
